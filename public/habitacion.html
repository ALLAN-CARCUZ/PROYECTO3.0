<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Administrar Habitaciones</title>
    <link rel="stylesheet" href="css/general.css">
    <link rel="stylesheet" href="css/habitacion.css">
    <link rel="stylesheet" href="css/header.css">
</head>
<body>

    <!-- Barra de navegación superior -->
    <header>
    </header>
    

    <!-- Botón para abrir el formulario de registro de habitación (solo visible para admin) -->
    <button class="open-modal-btn admin-only" id="openRegisterModal" style="display: none;">Agregar Habitación</button>


    <!-- Modal para registrar nueva habitación -->
    <div id="registerModal" class="modal" style="display: none;">
        <div class="modal-content">
            <button class="close-btn" id="closeRegisterModal">&times;</button>
            <h1>Formulario de Registro de Habitación</h1>
            <form id="habitacionForm" enctype="multipart/form-data">
                <label for="nombre">Nombre</label>
                <input type="text" id="nombre" name="nombre" required>
            
                <label for="descripcion">Descripción</label>
                <textarea id="descripcion" name="descripcion" required></textarea>
            
                <label for="precio">Precio</label>
                <input type="number" step="0.01" id="precio" name="precio" required>
            
                <label for="imagen">Imagen (opcional)</label>
                <input type="file" id="imagen" name="imagen" accept="image/*">
            
                <button type="submit">Registrar Habitación</button>
            </form>
        </div>
    </div>

    <!-- Modal para actualizar habitación -->
    <div id="updateModal" class="modal" style="display: none;">
        <div class="modal-content">
            <button class="close-btn" id="closeUpdateModal">&times;"></button>
            <div id="updateFormContainer">
                <!-- Aquí se cargará dinámicamente el formulario de actualización -->
            </div>
        </div>
    </div>
    <h2 style="margin-top: 30px; text-align: center; font-size: 2em;">Lista de Habitaciones</h2>

    <ul id="habitacionList">
        <!-- Cada tarjeta de habitación -->
        <li onclick="irAWizard(habitacion.id)">
            <img src="data:image/jpeg;base64,${habitacion.imagen}" alt="${habitacion.nombre}">
            <strong>${habitacion.nombre}</strong>
            <p>${habitacion.descripcion}</p>
            <p class="price">Precio: $${habitacion.precio}</p>
        </li>
    </ul>
    

    <!-- Pie de página -->
    <footer>
        <p>© 2024 Hotel El Dodo. Todos los derechos reservados.</p>
    </footer>

    <!-- Mover los scripts justo antes del cierre de body para asegurar que el DOM esté cargado -->
    <script src="scripts/scripthabitacion.js"></script>
    <script src="scripts/auth.js"></script>
    <script src="scripts/header.js"></script>
</body>
</html>
